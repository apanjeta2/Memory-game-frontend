{"version":3,"sources":["webpack:///./src/app/game/game.module.ts","webpack:///./src/app/game/game.page.html","webpack:///./src/app/game/game.page.scss","webpack:///./src/app/game/game.page.ts"],"names":[],"mappings":"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","file":"game-game-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { GamePage } from './game.page';\r\nimport { MaterialDesignModule } from '../shared/material-design.module';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: GamePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MaterialDesignModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [GamePage]\r\n})\r\nexport class GamePageModule { }\r\n","module.exports = \"\\r\\n<ion-content>\\r\\n    <ion-header translucent>\\r\\n        <ion-toolbar>\\r\\n          <span class=\\\"header-title\\\">Memory Game</span> \\r\\n        </ion-toolbar>\\r\\n      </ion-header>\\r\\n    <div *ngIf=\\\"show\\\" style=\\\"margin-top:1%;\\\" >\\r\\n        <mat-grid-list cols=\\\"{{rows}}\\\" rowHeight=\\\"1:1\\\">\\r\\n        <mat-grid-tile *ngFor=\\\"let c of _gameService.getCards()\\\" (click)='flipCard(c)'><ion-icon *ngIf=\\\"!c.hidden\\\" name={{c.icon}}></ion-icon></mat-grid-tile>\\r\\n         \\r\\n          \\r\\n        \\r\\n      \\r\\n        </mat-grid-list>\\r\\n       \\r\\n\\r\\n      </div>\\r\\n      <div *ngIf=\\\"show\\\" style=\\\"display: inline-block; width:100%\\\">\\r\\n          <div class=\\\"players\\\">Players:\\r\\n              <div class=\\\"pl\\\" *ngFor=\\\"let pl of _gameService.getGame().users\\\"> {{pl.username}}  | {{pl.points}} pts.  </div>\\r\\n              \\r\\n             </div>  \\r\\n              \\r\\n      </div>\\r\\n   \\r\\n</ion-content>\\r\\n\\r\\n\\r\\n\\r\\n\"","module.exports = \"mat-grid-tile {\\n  background: lightblue;\\n  font-size: 3rem; }\\n\\nmat-grid-list {\\n  width: 400px;\\n  height: 400px;\\n  margin: auto;\\n  padding: 0px !important; }\\n\\n.header-title {\\n  color: #3498db;\\n  font-weight: bolder;\\n  margin-left: 35%; }\\n\\n.players {\\n  color: #3498db;\\n  font-weight: bolder;\\n  margin-top: 12%;\\n  margin-left: 5%;\\n  float: left; }\\n\\n.players2 {\\n  color: #3498db;\\n  font-weight: bolder;\\n  margin-top: 12%;\\n  margin-left: 9%;\\n  float: left; }\\n\\n.pl {\\n  color: black;\\n  font-weight: initial;\\n  margin-top: 10%; }\\n\\n@media only screen and (max-width: 420px) {\\n  mat-grid-list {\\n    width: 100%; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ2FtZS9DOlxcVXNlcnNcXERUIFVzZXJcXERlc2t0b3BcXEVESVRcXE1FTU9SWS1naXRodWJcXE1lbW9yeS1nYW1lLWZyb250ZW5kL3NyY1xcYXBwXFxnYW1lXFxnYW1lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHFCQUFxQjtFQUNyQixlQUFlLEVBQUE7O0FBRWpCO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYixZQUFZO0VBQ1osdUJBQXVCLEVBQUE7O0FBRXpCO0VBQ0ksY0FBYztFQUNkLG1CQUFtQjtFQUNuQixnQkFBZ0IsRUFBQTs7QUFJcEI7RUFDRSxjQUFjO0VBQ2QsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixlQUFlO0VBQ2YsV0FBVyxFQUFBOztBQUViO0VBQ0UsY0FBYztFQUNkLG1CQUFtQjtFQUNuQixlQUFlO0VBQ2YsZUFBZTtFQUNmLFdBQVcsRUFBQTs7QUFHYjtFQUNFLFlBQVk7RUFDWixvQkFBb0I7RUFDcEIsZUFBZSxFQUFBOztBQUdqQjtFQUNFO0lBQ0UsV0FBVyxFQUFBLEVBQ1oiLCJmaWxlIjoic3JjL2FwcC9nYW1lL2dhbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsibWF0LWdyaWQtdGlsZSB7XHJcbiAgYmFja2dyb3VuZDogbGlnaHRibHVlO1xyXG4gIGZvbnQtc2l6ZTogM3JlbTtcclxufVxyXG5tYXQtZ3JpZC1saXN0IHtcclxuICB3aWR0aDogNDAwcHg7XHJcbiAgaGVpZ2h0OiA0MDBweDtcclxuICBtYXJnaW46IGF1dG87XHJcbiAgcGFkZGluZzogMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuLmhlYWRlci10aXRsZSB7XHJcbiAgICBjb2xvcjogIzM0OThkYjtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XHJcbiAgICBtYXJnaW4tbGVmdDogMzUlO1xyXG4gICBcclxufVxyXG5cclxuLnBsYXllcnN7XHJcbiAgY29sb3I6ICMzNDk4ZGI7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcclxuICBtYXJnaW4tdG9wOiAxMiU7XHJcbiAgbWFyZ2luLWxlZnQ6IDUlO1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG59XHJcbi5wbGF5ZXJzMntcclxuICBjb2xvcjogIzM0OThkYjtcclxuICBmb250LXdlaWdodDogYm9sZGVyO1xyXG4gIG1hcmdpbi10b3A6IDEyJTtcclxuICBtYXJnaW4tbGVmdDogOSU7XHJcbiAgZmxvYXQ6IGxlZnQ7XHJcbn1cclxuXHJcbi5wbHtcclxuICBjb2xvcjogYmxhY2s7IFxyXG4gIGZvbnQtd2VpZ2h0OiBpbml0aWFsOyBcclxuICBtYXJnaW4tdG9wOiAxMCU7XHJcbn1cclxuXHJcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNDIwcHgpIHtcclxuICBtYXQtZ3JpZC1saXN0IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIH1cclxufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { GameService } from '../shared/game.service';\r\nimport { Card } from '../models/card';\r\nimport { Game } from '../models/game';\r\nimport { Router } from '@angular/router';\r\nimport { Storage } from '@ionic/storage';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ValueAccessor } from '@ionic/angular/dist/directives/control-value-accessors/value-accessor';\r\n\r\n@Component({\r\n  selector: 'app-game',\r\n  templateUrl: './game.page.html',\r\n  styleUrls: ['./game.page.scss'],\r\n})\r\nexport class GamePage implements OnInit {\r\n  show: boolean = false;\r\n  rows: number;\r\n  hidden: boolean = false;\r\n  numberList: number[] = [];\r\n  open1: boolean = false;\r\n  open2: boolean = false;\r\n\r\n\r\n  private iconMap = {\r\n    \"1\": \"basket\", \"2\": \"contract\", \"3\": \"expand\", \"4\": \"flashlight\", \"5\": \"happy\", \"6\": \"jet\", \"7\": \"planet\", \"8\": \"rose\",\r\n    \"9\": \"pulse\", \"10\": \"rocket\", \"11\": \"heart\", \"12\": \"flash\", \"13\": \"add-circle\", \"14\": \"add-circle-outline\", \"15\": \"cafe\", \"16\": \"basketball\",\r\n    \"17\": \"car\", \"18\": \"bus\", \"19\": \"hand\", \"20\": \"clock\", \"21\": \"heart-half\", \"22\": \"moon\", \"23\": \"paw\", \"24\": \"sad\",\r\n    \"25\": \"school\", \"26\": \"star\", \"27\": \"logo-instagram\", \"28\": \"logo-youtube\", \"29\": \"logo-android\", \"30\": \"logo-apple\", \"31\": \"logo-facebook\", \"32\": \"logo-freebsd-devil\",\r\n  }\r\n\r\n  game: Game;\r\n  \r\n  constructor(public _gameService: GameService,\r\n    private router: Router,\r\n    private storage: Storage,\r\n    private snackBar: MatSnackBar\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n  ngAfterViewInit() {\r\n    this.storage.ready().then(() => {\r\n      this.checkGameAsync().then((val) => {\r\n        let valJson = JSON.parse(val);\r\n        this.game = valJson;\r\n        this.rows = valJson.rows;\r\n        this.show = true;\r\n        this._gameService.generateGrid();\r\n      });\r\n    });\r\n  }\r\n\r\n  public checkGameAsync(): Promise<string> {\r\n    return this.storage.get('game').then((val) => {\r\n      if (val) {\r\n        return val;\r\n      } else {\r\n        return new Promise((resolve, reject) => {\r\n          setTimeout(() => {\r\n            this.checkGameAsync().then((val) => {\r\n              resolve(val);\r\n            }).catch(() => {\r\n              reject();\r\n            });\r\n          }, 1000);\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  flipCard(card: Card) {\r\n    if (!card.hidden) {\r\n      return;\r\n    } else if (!GameService.isCurrentPlayer) {\r\n      this.openSnackBar(\"Error!\", \"Not your turn!\");\r\n      return;\r\n    }\r\n\r\n    if (GameService.isSending) {\r\n      return;\r\n    } else {\r\n      GameService.isSending = true;\r\n    }\r\n\r\n    var allConnected = true;\r\n    var users = GameService.game.users;\r\n    users.forEach(user => {  \r\n      if(user.username==null) {\r\n        allConnected=false;\r\n        this.openSnackBar(\"Error!\", \"Wait for other players!\");\r\n        return;\r\n      }\r\n    });\r\n\r\n    if(allConnected) {\r\n    let val = this._gameService.getCurrentValue(card.index).then((num) => {\r\n      card.icon = this.iconMap['' + num];\r\n\r\n    }).catch((err) => {\r\n      console.log(err);\r\n\r\n    });;\r\n\r\n  }\r\n\r\n    //card.hidden = false;\r\n\r\n    // ...\r\n  }\r\n\r\n  openSnackBar(message: string, description: string): void {\r\n    this.snackBar.open(message, description, {\r\n      duration: 2000\r\n    });\r\n  }\r\n\r\n  openSnackBar2(message: string, description: string): void {\r\n    this.snackBar.open(message, description, {\r\n      duration: 20000\r\n    });\r\n  }\r\n\r\n\r\n}\r\n"],"sourceRoot":""}